# 游戏指南

## 快速开始

### 1. 编译游戏
```bash
cargo build --release
```

### 2. 运行游戏
```bash
cargo run
# 或运行编译后的二进制文件
./target/release/poke
```

### 3. 开始冒险
- 输入你的训练师名字
- 系统会给你一只皮卡丘作为初始宝可梦
- 选择"探索"开始你的冒险

## 游戏步骤详解

### 第一步：新游戏
```
╔════════════════════════════════════╗
║     欢迎来到宝可梦冒险世界        ║
╠════════════════════════════════════╣
║ 1. 开始新游戏                      ║
║ 2. 退出游戏                        ║
╚════════════════════════════════════╝
请选择: 1
```

输入你的名字，然后你会获得一只皮卡丘！

### 第二步：主菜单
```
╔════════════════════════════════════╗
║         主菜单                     ║
╠════════════════════════════════════╣
║ 1. 探索 (寻找宝可梦)               ║
║ 2. 查看队伍                        ║
║ 3. 查看背包                        ║
║ 4. 回到大厅                        ║
╚════════════════════════════════════╝
请选择:
```

**菜单选项说明**:
- **选项1 (探索)**: 进入野外，遭遇随机宝可梦
- **选项2 (查看队伍)**: 查看已捕捉的宝可梦详情
- **选项3 (查看背包)**: 查看拥有的道具和金钱
- **选项4 (回到大厅)**: 退出游戏

### 第三步：探索和遭遇

当你选择"探索"时，会随机遭遇一只野生宝可梦：

```
═══════════════════════════════════════
你来到了野外!
突然一只 皮卡丘 出现了!
═══════════════════════════════════════

╔════════════════════════════════════╗
║       你来到了野外...              ║
║   突然一只宝可梦出现了!            ║
╠════════════════════════════════════╣
║ 1. 投掷精灵球捕捉                  ║
║ 2. 与之战斗                        ║
║ 3. 逃跑                            ║
╚════════════════════════════════════╝
请选择:
```

#### 选项 1: 投掷精灵球 (捕捉)

**捕捉机制**:
- 需要消耗 1 个精灵球
- 捕捉成功率取决于:
  - 宝可梦的基础捕捉率
  - 宝可梦的当前生命值 (HP越低越容易捕捉)

**示例**:
```
你投掷了一枚精灵球!
✓ 太好了! 成功捕捉到了 皮卡丘!
✓ 皮卡丘 加入了你的队伍!
```

或者:
```
你投掷了一枚精灵球!
✗ 哎呀! 皮卡丘 挣脱了精灵球!
```

**提示**: 先削弱宝可梦的生命值再捕捉，成功率会大大提高！

#### 选项 2: 与之战斗

进入回合制战斗！

**战斗界面**:
```
╔═════════════════════════════════════╗
║           对战状态                  ║
╠═════════════════════════════════════╣
║ 你的宝可梦: 皮卡丘                  ║
║ HP: 35/35                           ║
║ [████████████████████]              ║
║                                     ║
║ 对手宝可梦: 小火龙                  ║
║ HP: 20/39                           ║
║ [██████████░░░░░░░░]                ║
╚═════════════════════════════════════╝
```

**战斗菜单**:
```
╔════════════════════════════════════╗
║        ← 对战中 →                  ║
╠════════════════════════════════════╣
║ 1. 使用招式                        ║
║ 2. 使用道具                        ║
║ 3. 切换宝可梦                      ║
║ 4. 逃跑                            ║
╚════════════════════════════════════╝
请选择:
```

**选项 1: 使用招式**
- 选择你的宝可梦的一个招式
- 有命中率检测，不是100%成功
- 命中后根据伤害公式计算伤害
- 对手会自动反击

**选项 2: 使用道具**
- 使用恢复药为宝可梦回复HP
- （功能准备中）

**选项 3: 切换宝可梦**
- 如果你有其他未昏迷的宝可梦，可以切换
- 对手会立即发动攻击

**选项 4: 逃跑**
- 有50%的成功率逃离战斗
- 逃跑失败后对手会继续发动攻击

**战斗结果**:
```
╔═════════════════════════════════════╗
║        你赢得了这场战斗!           ║
╚═════════════════════════════════════╝

[经验系统]
- 宝可梦获得经验值
- 积累100经验升1级
```

#### 选项 3: 逃跑

有50%的概率成功逃离战斗。

```
✓ 成功逃离了战斗!
# 或
✗ 逃跑失败了!
```

## 宝可梦系统详解

### 宝可梦属性

每只宝可梦有1个或2个属性，影响伤害计算：

**18种属性**: 普通、火、水、草、电、冰、格斗、毒、地面、飞行、超能力、虫、岩石、幽灵、龙、暗黑、钢、妖精

### 基础属性

每只宝可梦有6个基础属性：
- **HP** (生命值) - 影响可承受的伤害
- **攻击** - 物理招式的伤害
- **防御** - 对物理招式的抵抗
- **特攻** - 特殊招式的伤害
- **特防** - 对特殊招式的抵抗
- **速度** - 决定出手顺序（当前未实现）

### 招式系统

**招式类型**:
- **物理招式** - 使用攻击和防御计算伤害
- **特殊招式** - 使用特攻和特防计算伤害
- **变化招式** - 不造成伤害，改变状态（未实现）

**招式属性**:
- 威力 (Power) - 招式的基础伤害
- 精准度 (Accuracy) - 命中率百分比
- PP - 使用次数（当前简化了）

### 伤害计算

```
基础伤害 = ((等级×2÷5+2) × 招式威力 × 攻击 ÷ 防御) ÷ 50 + 2

最终伤害 = 基础伤害 × 属性克制系数 × 随机系数(85%-100%)
```

### 属性克制 (Type Effectiveness)

**克制示例** (造成2倍伤害):
- 火克制: 草、冰、虫、钢
- 水克制: 火、地面、岩石
- 草克制: 水、地面、岩石

**抵抗示例** (造成0.5倍伤害):
- 火被克制于: 水、地面、岩石
- 水被克制于: 草、电
- 草被克制于: 火、毒、飞行、虫

## 队伍管理

### 查看队伍
```
═══════════════════════════════════════

=== 宝可梦队伍 ===
1. 皮卡丘 (等级: 1) HP: 35/35
2. 小火龙 (等级: 2) HP: 20/39
3. 杰尼龟 (等级: 1) HP: 44/44
```

### 队伍限制
- 最多可以拥有 **6 只宝可梦**
- 如果队伍满了，新捕捉的宝可梦无法加入（提示：队伍已满）

### 宝可梦状态
- **正常** - 可以参加战斗
- **昏迷** - HP为0，无法战斗，需要复活

**游戏结束条件**: 队伍中所有宝可梦都昏迷了

## 背包系统

### 初始背包
- 5 个精灵球 (Poké Ball)
- 2 个恢复药 (Potion)

### 查看背包
```
═══════════════════════════════════════

=== 背包 ===
Poké Ball: 4
Potion: 2

金钱: ¥0
```

## 升级系统

### 经验获得
- 战胜野生宝可梦: 50 经验
- 经验计算: `对手等级 × 50 ÷ 7`

### 升级条件
- 每积累 **100 经验** 升1级
- 升级时自动回满 HP
- 学习新招式（未实现）

### 升级效果
```
╔═════════════════════════════════════╗
║       皮卡丘升级了！               ║
╠═════════════════════════════════════╣
║ 现在等级: 2                         ║
║ 当前HP: 35/35                       ║
╚═════════════════════════════════════╝
```

## 捕捉机制详解

### 捕捉率计算

```
捕捉率 = (宝可梦基础捕捉率 ÷ 255) × (1 - 生命值比例 × 0.5)

如果: 随机数(0-1) < 捕捉率 → 捕捉成功
```

### 宝可梦捕捉率示例

| 宝可梦 | 捕捉率 | 难度 |
|-------|--------|------|
| 绿毛虫 | 255 | 极易 |
| 鲤鱼王 | 255 | 极易 |
| 皮卡丘 | 190 | 容易 |
| 小火龙 | 45 | 中等 |
| 皮卡丘 | 190 | 容易 |
| 超梦 | 3 | 极难 |

### 策略建议

1. **削弱宝可梦**
   - 使用低伤害的招式
   - 将其 HP 降低到 1/4 以下
   - 成功率会显著提升

2. **多准备精灵球**
   - 需要更多精灵球时，可通过战斗获得
   - 目标宝可梦最难捕捉时，多试几次

3. **选择合适的时机**
   - 对手 HP 越低越好捕捉
   - 但不要让对手逃跑或昏迷

## 常见问题

### Q: 如何获得更多精灵球？
A: 目前通过初始背包获得 5 个。后续版本会支持商店购买和战斗奖励。

### Q: 宝可梦全部昏迷了怎么办？
A: 游戏结束。建议下次准备更多恢复道具或多捕捉几只宝可梦。

### Q: 如何存档进度？
A: 存档系统已准备，可通过游戏菜单保存（未在当前版本启用）。

### Q: 可以重新命名宝可梦吗？
A: 当前版本不支持。这在未来版本中可能实现。

### Q: 宝可梦可以进化吗？
A: 当前版本不支持进化系统。这在未来版本中规划。

### Q: 如何解锁所有宝可梦？
A: 所有 16 只可捕捉的宝可梦都可以在野外遭遇。超梦最难捕捉。

## 提示和技巧

- 💡 **组建平衡队伍**: 不同属性的宝可梦互相搭配
- 💡 **了解属性克制**: 用克制对手的宝可梦战斗效率更高
- 💡 **多样化招式**: 同一只宝可梦最多学 4 个招式
- 💡 **积极升级**: 宝可梦等级越高，属性越强
- 💡 **谨慎战斗**: 宝可梦昏迷后需要复活（未实现）

## 游戏伦理

这是一个教育性的宝可梦游戏。游戏中的所有宝可梦都是虚拟的，纯粹用于娱乐和教学目的。

祝你游戏愉快！🎮✨
