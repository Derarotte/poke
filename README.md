# 宝可梦命令行游戏

一个用 Rust 实现的功能完整的命令行宝可梦游戏。在这个游戏中，你可以捕捉、训练和战斗宝可梦！

## 功能特性

✨ **核心功能**
- 🎮 交互式命令行菜单界面
- 🌍 野外探索系统 - 随机遭遇宝可梦
- 🎯 捕捉系统 - 使用精灵球捕捉宝可梦
- ⚔️ 回合制战斗系统 - 与野生宝可梦对战
- 📊 宝可梦培养系统 - 升级、学习招式
- 🎒 背包系统 - 管理道具和宝可梦
- 💾 游戏存档系统 - 保存进度（准备就绪）

## 游戏机制

### 宝可梦系统
- 16种不同的宝可梦可捕捉
- 完整的属性系统（18种类型）
- 属性相克机制 - 克制关系影响伤害计算
- 每只宝可梦有最多4个招式

### 战斗系统
- **伤害计算**: 基于攻击/防御等级和属性相克
- **命中率**: 每个招式都有精准度检测
- **属性相克**:
  - 克制 (2x伤害)
  - 抵抗 (0.5x伤害)
  - 正常 (1x伤害)

### 捕捉机制
- 捕捉率 = 宝可梦基础捕捉率 × (1 - 生命值比例)
- 宝可梦生命值越低，捕捉越容易
- 最多可以拥有6只宝可梦

### 升级系统
- 战胜宝可梦获得经验值
- 每积累100经验升1级
- 升级时自动回满HP

## 项目结构

```
src/
├── main.rs              # 游戏主循环
├── game/
│   ├── mod.rs          # 游戏模块导出
│   ├── pokemon.rs      # 宝可梦数据结构和方法
│   ├── player.rs       # 玩家数据结构
│   └── battle.rs       # 战斗系统和伤害计算
├── cli/
│   ├── mod.rs          # CLI模块导出
│   ├── menu.rs         # 菜单系统
│   └── display.rs      # 显示相关函数
├── data/
│   ├── mod.rs          # 数据模块导出
│   └── pokemon_data.rs # 宝可梦数据库（16种宝可梦）
└── utils/
    ├── mod.rs          # 工具模块导出
    └── save.rs         # 游戏存档系统
```

## 宝可梦列表

已实现的16种宝可梦（按编号）：

| ID | 名字 | 类型 | 稀有度 |
|----|------|------|--------|
| 1 | 妙蛙种子 | 草/毒 | 普通 |
| 2 | 妙蛙草 | 草/毒 | 普通 |
| 3 | 妙蛙花 | 草/毒 | 稀有 |
| 4 | 小火龙 | 火 | 普通 |
| 5 | 火恐龙 | 火 | 普通 |
| 6 | 喷火龙 | 火/飞 | 稀有 |
| 7 | 杰尼龟 | 水 | 普通 |
| 8 | 卡咪龟 | 水 | 普通 |
| 9 | 水龟 | 水 | 稀有 |
| 10 | 绿毛虫 | 虫 | 普通 |
| 25 | 皮卡丘 | 电 | 稀有 |
| 39 | 胖可丁 | 正常/妖精 | 普通 |
| 54 | 嘟嘟 | 水 | 普通 |
| 58 | 卡拉卡拉 | 火 | 普通 |
| 63 | 超梦 | 超能力 | 非常稀有 |
| 129 | 鲤鱼王 | 水 | 常见 |

## 安装和运行

### 前置条件
- Rust 1.70+ （已安装）
- Cargo 包管理器

### 编译
```bash
cargo build --release
```

### 运行
```bash
cargo run
```

## 游戏流程

1. **开始游戏** - 输入玩家名字
2. **获得初始宝可梦** - 自动获得一只皮卡丘
3. **探索模式**
   - 在野外遭遇宝可梦
   - 选择捕捉、战斗或逃跑
4. **捕捉宝可梦**
   - 使用精灵球投掷
   - 宝可梦生命值越低越容易捕捉
5. **对战宝可梦**
   - 选择招式攻击
   - 战胜后获得经验
   - 宝可梦升级变强
6. **队伍管理**
   - 查看已捕捉的宝可梦
   - 管理背包道具

## 操作说明

### 主菜单
- `1` - 开始新游戏
- `2` - 退出游戏

### 游戏菜单
- `1` - 探索 (遭遇宝可梦)
- `2` - 查看队伍
- `3` - 查看背包
- `4` - 返回菜单

### 探索菜单
- `1` - 投掷精灵球 (捕捉)
- `2` - 与之战斗
- `3` - 逃跑

### 战斗菜单
- `1` - 选择招式攻击
- `2` - 使用道具（功能准备中）
- `3` - 切换宝可梦
- `4` - 逃跑

## 技术细节

### 伤害计算公式
```
伤害 = (((2×等级÷5+2) × 招式威力 × 攻击 ÷ 防御) ÷ 50 + 2) × 属性克制 × 随机(0.85-1.00)
```

### 捕捉计算公式
```
成功率 = (基础捕捉率 ÷ 255) × (1 - 生命值比例 × 0.5)
如果随机数 < 成功率: 捕捉成功
```

### 属性相克系统

**火属性克制**: 草、冰、虫、钢
**水属性克制**: 火、地面、岩石
**草属性克制**: 水、地面、岩石
**电属性克制**: 水、飞行
**冰属性克制**: 草、飞行、地面、龙
**格斗属性克制**: 普通、冰、岩石、暗黑、钢
**毒属性克制**: 草、妖精
**地面属性克制**: 火、电、毒、岩石、钢
**飞行属性克制**: 草、格斗、虫
**超能力属性克制**: 格斗、毒
**虫属性克制**: 草、超能力、暗黑
**岩石属性克制**: 火、冰、飞行、虫
**幽灵属性克制**: 幽灵、超能力
**龙属性克制**: 龙
**暗黑属性克制**: 幽灵、超能力
**钢属性克制**: 冰、岩石、妖精
**妖精属性克制**: 格斗、龙、暗黑

## 游戏数据

- **初始精灵球**: 5个
- **初始恢复药**: 2个
- **队伍上限**: 6只宝可梦
- **招式上限**: 4个招式/宝可梦
- **逃跑成功率**: 50%
- **野外遭遇池**: 10种宝可梦

## 功能扩展方向

- [ ] NPC对战系统
- [ ] 宝可梦进化系统
- [ ] 物品合成系统
- [ ] 交易系统
- [ ] 排行榜系统
- [ ] 更多宝可梦数据
- [ ] 招式学习器
- [ ] 宝可梦养护系统

## 依赖项

```toml
rand = "0.8"                          # 随机数生成
serde = { version = "1.0", features = ["derive"] }  # 序列化
serde_json = "1.0"                    # JSON序列化
```

## 代码质量

- ✅ 模块化设计
- ✅ 类型安全（Rust 强类型）
- ✅ 错误处理完善
- ✅ 代码注释清晰
- ✅ 遵循 Rust 最佳实践

## 许可证

MIT License

## 贡献

欢迎提交 Bug 报告和功能建议！

---

**开发者**: Claude
**开发日期**: 2025-10-21
**版本**: 0.1.0

尽情享受宝可梦冒险之旅吧！🎮✨
